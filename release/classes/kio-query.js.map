{"version":3,"file":"kio-query.js","sourceRoot":"","sources":["../../src/classes/kio-query.ts"],"names":[],"mappings":";;AAEA;IAAA;IA8BA,CAAC;IArBQ,sBAAQ,GAAf,UAAkB,IAAc;QAC9B,IAAM,KAAK,GAAG,IAAI,aAAa,EAAG,CAAA;QAClC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACtB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;QAC1B,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA;QACjB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACtB,EAAE,CAAC,CAAE,IAAI,CAAC,IAAI,KAAK,KAAM,CAAC,CAC1B,CAAC;YACC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAA;QACtB,CAAC;QACD,IAAI,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,IAAI,KAAK,KAAM,CAAC,CAC/B,CAAC;YACC,IAAM,QAAQ,GAAuB,IAAK,CAAC,OAAO,CAAC,QAAQ,CAAA;YAC3D,EAAE,CAAC,CAAE,QAAQ,IAAI,QAAQ,CAAC,UAAU,CAAG,OAAO,CAAG,CAAC,CAClD,CAAC;gBACC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA;YACnB,CAAC;QACH,CAAC;QACD,MAAM,CAAC,KAAK,CAAA;IACd,CAAC;IAEH,oBAAC;AAAD,CAAC,AA9BD,IA8BC;AA9BY,sCAAa","sourcesContent":["import { KioQuery, KioContent, KioNode } from '../interfaces'\n\nexport class KioQueryModel implements KioQuery {\n\n  cuid:string\n  locale:string\n  cmd:string\n  role:string\n  headers:boolean\n  params:any\n\n  static fromNode ( node : KioNode ) : KioQueryModel {\n    const query = new KioQueryModel ()\n    query.cuid = node.cuid\n    query.locale = node.locale\n    query.cmd = 'get'\n    query.role = node.type\n    if ( node.type === 'pub' )\n    {\n      query.headers = true  \n    }\n    else if ( node.type === 'src' )\n    {\n      const mimeType:string = (<KioContent>node).headers.mimeType\n      if ( mimeType && mimeType.startsWith ( 'image' ) )\n      {\n        query.cmd = 'img'\n      }\n    }\n    return query\n  }\n\n}"]}